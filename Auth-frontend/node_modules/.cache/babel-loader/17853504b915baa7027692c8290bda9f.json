{"ast":null,"code":"var _jsxFileName = \"/Users/luoxiaofei/Desktop/upload/GroupProject2/TimeSheet-Project/Auth-frontend/src/components/Login/login.jsx\";\nimport React, { Component } from \"react\";\nimport \"./login.css\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\nimport { Nav, Navbar } from \"react-bootstrap\";\nimport * as ApiService from '../../services/ApiService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LogIn extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setUsername = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n\n    this.setPassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.signIn = loginInfo => {\n      console.log(loginInfo);\n      ApiService.login(loginInfo).then(response => {\n        console.log(\"response\");\n        console.log(response);\n        let id = response.data.profile_id;\n\n        if (id) {\n          let id = response.data.profile_id;\n          let token = response.data.token;\n          this.setState({\n            user: loginInfo.username,\n            userID: id,\n            JWTToken: token,\n            open: true,\n            message: \"You have successfully Logged In!\"\n          });\n          window.sessionStorage.setItem(\"user\", this.state.username);\n          window.sessionStorage.setItem(\"userID\", this.state.userID);\n        } else {\n          this.setState({\n            open: true,\n            message: response.data\n          });\n        }\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        open: false\n      });\n\n      if (this.state.message === 'You have successfully Logged In!') {\n        window.location.href = \"/summary\";\n      }\n\n      ;\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      userID: \"\",\n      JWTToken: \"\",\n      message: \"\",\n      open: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"navbar navbar-expand-lg navbar-light bg-light container-fluid\",\n          children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              className: \"navbar-brand m-0\",\n              to: \"/\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://www.linkpicture.com/q/Logo_BeaconFire.png\",\n                type: \"image\",\n                padding: \"10px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: \"Auth\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"App-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Login\",\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"standard\",\n              placeholder: \"Username\",\n              margin: \"normal\",\n              required: true,\n              onChange: this.setUsername,\n              value: this.state.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"standard\",\n              placeholder: \"Password\",\n              margin: \"normal\",\n              required: true,\n              type: \"password\",\n              onChange: this.setPassword,\n              value: this.state.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"Button\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: () => {\n                  this.signIn({\n                    \"username\": this.state.username,\n                    \"password\": this.state.password\n                  });\n                },\n                children: \"Log In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n            open: this.state.open,\n            onClose: this.handleClose,\n            \"aria-labelledby\": \"alert-dialog-title\",\n            \"aria-describedby\": \"alert-dialog-description\",\n            children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n              id: \"alert-dialog-title\",\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n              children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n                id: \"alert-dialog-description\",\n                children: this.state.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: this.handleClose,\n                color: \"primary\",\n                children: \"Okay\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default LogIn;","map":{"version":3,"sources":["/Users/luoxiaofei/Desktop/upload/GroupProject2/TimeSheet-Project/Auth-frontend/src/components/Login/login.jsx"],"names":["React","Component","Dialog","Button","TextField","DialogActions","DialogContent","DialogContentText","DialogTitle","Redirect","Link","NavLink","Nav","Navbar","ApiService","LogIn","constructor","props","setUsername","event","setState","username","target","value","setPassword","password","signIn","loginInfo","console","log","login","then","response","id","data","profile_id","token","user","userID","JWTToken","open","message","window","sessionStorage","setItem","state","handleClose","location","href","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./login.css\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\nimport { Nav, Navbar } from \"react-bootstrap\";\nimport * as ApiService from '../../services/ApiService';\n\nclass LogIn extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: \"\",\n            password: \"\",\n            userID: \"\",\n            JWTToken: \"\",\n            message: \"\",\n            open: false,\n        };\n    }\n\n    setUsername = event => {\n        this.setState({\n            username: event.target.value\n        });\n    };\n\n    setPassword = event => {\n        this.setState({\n            password: event.target.value\n        });\n    };\n\n    signIn = (loginInfo) => {\n        console.log(loginInfo)\n        ApiService.login(loginInfo).then((response) => {\n                console.log(\"response\")\n            console.log(response)\n            let id = response.data.profile_id;\n            if (id) {\n                let id = response.data.profile_id;\n                let token = response.data.token;\n                this.setState({\n                    user : loginInfo.username,\n                    userID: id,\n                    JWTToken: token,\n                    open: true,\n                    message: \"You have successfully Logged In!\"\n                });\n                window.sessionStorage.setItem(\"user\", this.state.username);\n                window.sessionStorage.setItem(\"userID\", this.state.userID);\n            } else {\n                this.setState({\n                    open: true,\n                    message: response.data\n                });\n            }\n            \n        })\n    };\n\n    handleClose = () => {\n        this.setState({\n            open: false\n        });\n        if (this.state.message === 'You have successfully Logged In!') {\n            window.location.href = \"/summary\"\n        };\n    };\n\n\n    render() {\n        return (\n            <div>\n                <Navbar>\n                    <nav className=\"navbar navbar-expand-lg navbar-light bg-light container-fluid\">\n                        <Nav.Item>\n                            <Link className=\"navbar-brand m-0\" to=\"/\">\n                            <img src='https://www.linkpicture.com/q/Logo_BeaconFire.png' type=\"image\" padding='10px' />\n                            </Link>\n                        </Nav.Item>\n                        <Nav.Item>Auth</Nav.Item>\n                    </nav>\n                </Navbar>\n\n            <div className=\"App\">\n                <header className=\"App-header\">\n                    <div className=\"Login\">\n                        <TextField\n                            variant=\"standard\"\n                            placeholder=\"Username\"\n                            margin=\"normal\"\n                            required\n                            onChange={this.setUsername}\n                            value={this.state.username}\n                        />\n                        <TextField\n                            variant=\"standard\"\n                            placeholder=\"Password\"\n                            margin=\"normal\"\n                            required\n                            type=\"password\"\n                            onChange={this.setPassword}\n                            value={this.state.password}\n                        />\n\n                        <div className=\"Button\">\n                            <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={() => {\n                                    this.signIn({\"username\" : this.state.username, \"password\": this.state.password});\n                                }}\n                            >\n                                Log In\n                            </Button>\n                                \n                        </div>\n                    </div>\n                    <Dialog\n                        open={this.state.open}\n                        onClose={this.handleClose}\n                        aria-labelledby=\"alert-dialog-title\"\n                        aria-describedby=\"alert-dialog-description\"\n                    >\n                        <DialogTitle id=\"alert-dialog-title\">Sign In</DialogTitle>\n                        <DialogContent>\n                            <DialogContentText id=\"alert-dialog-description\">\n                                {this.state.message}\n                            </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={this.handleClose} color=\"primary\">\n                                Okay\n                            </Button>\n                        </DialogActions>\n                    </Dialog>\n                </header>\n            </div>\n        </div>\n        )\n    }\n}\n\nexport default LogIn;\n"]},"metadata":{},"sourceType":"module"}